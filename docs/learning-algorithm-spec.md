# 学習アルゴリズム仕様 (SM-2 改良版)

このプロジェクトでは、単語の記憶定着を最適化するために **SM-2 (SuperMemo-2)** アルゴリズムをベースとしたロジックを採用しています。

## 1. 単語が「習得済み (Mastered)」になる条件
単語の進捗状況が `Mastered` に変更されるのは、**「次回の復習までの日数が 30日 を超えた時」** です。

- 学習中の単語は、正解を繰り返すごとに復習間隔（`interval`）が伸びていきます。
- 具体的な計算式（簡略化）:
    1. 初回正解時: 1日後
    2. 2回目正解時: 6日後
    3. 3回目以降: `前回の間隔 × Easiness係数` (初期係数は 2.5)
- この `interval` が `30` よりも大きくなった瞬間に、ステータスが `Learning` から `Mastered` へと自動的に切り替わります。

## 2. 単語を間違えた際のリセット仕様
単語をクイズで間違えた場合、その単語の学習状況は **リセット** されます。

- **リセットされる項目:**
    - `repetitions` (正解回数): `0` に戻ります。
    - `interval` (復習間隔): `0` に戻ります。
    - `lastCorrect`: `false` に設定されます。
- **リセットの効果:**
    - 次回の復習日は「今日（即座に再学習が必要な状態）」に設定されます。
    - ステータスは `Learning` のままですが、習得までの道のりは最初からやり直しになります。
    - `Easiness` 係数については、完全にリセットされるわけではなく、SM-2の計算式に基づいて少し低くなります（＝覚えにくい単語としてマークされる）。

## 3. 調査結果からの考察
「習得済みになるのが早すぎる」と感じる原因として、以下の点が考えられます。
- 初期 `Easiness` が 2.5 と高めであり、3〜4回連続で正解するとすぐに30日を超えてしまう。
- 30日という閾値が、ユーザーの学習実感に対して短すぎる可能性がある。
